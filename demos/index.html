<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Demo: Menu</title>

	<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css">
	<link rel="stylesheet" href="../build/menu.css">

	<script src="../bower_components/soyutils/soyutils.js"></script>
	<script src="../build/globals/menu.js"></script>
	<style>

	#decorate {
		padding: 15px;
	}

	#box {
		border: 1px solid #000;
		float: left;
		height: 100px;
		margin-bottom: 10px;
		margin-right: 20px;
		width: 100px
	}
	</style>
</head>
<body>
	<h1>Menu</h1>
	<div class="clearfix">
		<div id="box"></div>
		<span>Last Item Clicked: <span id="message"></span></span>
	</div>

	<nav class="navbar navbar-default">
		<ul class="nav navbar-nav">
			<li class="dropdown">
				<div id="decorate" class="menu-overlay menu component">
					<div id="decorate-dropdown" class="dropdown component menu-item-submenu">
						<div id="decorate-header" class="menu-item-content" data-onclick="decorate:toggle">
							<a>Menu Overlay Dropdown from HTML<span class="caret"></span></a>
							<div class="menu-item-submenu-arrow"><span class="caret"></span></div>
						</div>
						<ul id="decorate-dropdown-body" class="dropdown-menu">
							<li id="decorate-item-0" class="menu-item menuitem component">
								<div class="menu-content" data-onclick="decorate:handleItemClick_">
									<div id="change-color-submenu" class="menu-overlay menu component">
										<div id="change-color-submenu-dropdown" class="dropdown component menu-item-submenu">
											<div id="change-color-submenu-header" class="menu-item-content" data-onclick="change-color-submenu:toggle">
												<a>Change Color</a>
												<div class="menu-item-submenu-arrow"><span class="caret"></span></div>
											</div>
											<ul id="change-color-submenu-dropdown-body" class="dropdown-menu">
												<li id="change-color-submenu-item-0" class="menu-item menuitem component">
													<div class="menu-content" data-onclick="change-color-submenu:handleItemClick_">
														<div id="change-color-submenu-item-0-leaf" class="menu-overlay no-menu-items menu component">
															<div id="change-color-submenu-item-0-leaf-dropdown" class="dropdown component menu-item-submenu">
																<div id="change-color-submenu-item-0-leaf-header" class="menu-item-content" data-onclick="change-color-submenu-item-0-leaf:toggle"><a>Magenta</a></div>
																<ul id="change-color-submenu-item-0-leaf-dropdown-body" class="dropdown-menu"></ul>
															</div>
														</div>
													</div>
												</li>
												<li id="change-color-submenu-item-1" class="menu-item menuitem component">
													<div class="menu-content" data-onclick="change-color-submenu:handleItemClick_">
														<div id="change-color-submenu-item-1-leaf" class="menu-overlay no-menu-items menu component open">
															<div id="change-color-submenu-item-1-leaf-dropdown" class="dropdown component menu-item-submenu">
																<div id="change-color-submenu-item-1-leaf-header" class="menu-item-content" data-onclick="change-color-submenu-item-1-leaf:toggle"><a>Cyan</a></div>
																<ul id="change-color-submenu-item-1-leaf-dropdown-body" class="dropdown-menu menu-item-submenu-open"></ul>
															</div>
														</div>
													</div>
												</li>
												<li id="change-color-submenu-item-2" class="menu-item menuitem component">
													<div class="menu-content" data-onclick="change-color-submenu:handleItemClick_">
														<div id="change-color-submenu-item-2-leaf" class="menu-overlay no-menu-items menu component">
															<div id="change-color-submenu-item-2-leaf-dropdown" class="dropdown component menu-item-submenu">
																<div id="change-color-submenu-item-2-leaf-header" class="menu-item-content" data-onclick="change-color-submenu-item-2-leaf:toggle"><a>Yellow</a></div>
																<ul id="change-color-submenu-item-2-leaf-dropdown-body" class="dropdown-menu"></ul>
															</div>
														</div>
													</div>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</li>
							<li id="decorate-item-1" class="menu-item disabled menuitem component">
								<div class="menu-content" data-onclick="decorate:handleItemClick_">
									<div id="decorate-item-1-leaf" class="menu-overlay no-menu-items menu component">
										<div id="decorate-item-1-leaf-dropdown" class="dropdown component menu-item-submenu">
											<div id="decorate-item-1-leaf-header" class="menu-item-content" data-onclick="decorate-item-1-leaf:toggle"><a>Change Shape</a></div>
											<ul id="decorate-item-1-leaf-dropdown-body" class="dropdown-menu"></ul>
										</div>
									</div>
								</div>
							</li>
							<li id="decorate-item-2" class="menu-item divider menuitem component">
								<div class="menu-content" data-onclick="decorate:handleItemClick_">
									<div id="decorate-item-2-leaf" class="menu-overlay no-menu-items menu component">
										<div id="decorate-item-2-leaf-dropdown" class="dropdown component menu-item-submenu">
											<div id="decorate-item-2-leaf-header" class="menu-item-content" data-onclick="decorate-item-2-leaf:toggle"><a>undefined</a></div>
											<ul id="decorate-item-2-leaf-dropdown-body" class="dropdown-menu"></ul>
										</div>
									</div>
								</div>
							</li>
							<li id="decorate-item-3" class="menu-item menuitem component">
								<div class="menu-content" data-onclick="decorate:handleItemClick_">
									<div id="decorate-item-3-leaf" class="menu-overlay no-menu-items menu component">
										<div id="decorate-item-3-leaf-dropdown" class="dropdown component menu-item-submenu">
											<div id="decorate-item-3-leaf-header" class="menu-item-content" data-onclick="decorate-item-3-leaf:toggle"><a>Clear</a></div>
											<ul id="decorate-item-3-leaf-dropdown-body" class="dropdown-menu"></ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</li>
			<li class="dropdown">
				<a id="render"></a>
			</li>
		</ul>
	</nav>
	<script type="text/javascript">
		var box = document.getElementById('box');
		var message = document.getElementById('message');

		var menu1 = new crystal.Menu(
				{
					header: crystal.SoyComponent.sanitizeHtml('Menu Overlay Dropdown from HTML<span class="caret"></span>'),
					element: '#decorate',
					layoutMode: 'overlay',
					position: 'down',
					items: [
							{
								header: 'Change Color',
								submenu: {
									id: 'change-color-submenu',
									items: [
										{
											header: 'Magenta'
										},
										{
											header: 'Cyan'
										},
										{
											header: 'Yellow'
										}
									]
								}
							},
							{
								header: 'Change Shape',
								disabled: true
							},
							{
								divider: true
							},
							{
								header: 'Clear'
							}
					]
				}
			).decorate();

		menu1.on('itemSelected', function(event) {
			var color = '#fff',
				node = event.target;

			if (node.innerHTML.indexOf('Magenta') > -1) {
				color = '#ff00ff';
			}
			else if (node.innerHTML.indexOf('Cyan') > -1) {
				color = '#00ffff';
			} else if (node.innerHTML.indexOf('Yellow') > -1) {
				color = '#ffff00';
			}

			box.setAttribute('style', 'background-color:' + color + ';');
		});


		var menu2 = new crystal.Menu({
			position: 'up',
			header: crystal.SoyComponent.sanitizeHtml('Menu Inline Dropup from JavaScript<span class="caret"></span>'),
			layoutMode: 'inline',
			items: [
					{
						header: 'Menu Item 1',
						submenu: {
							items: [
								{
									header: 'Menu Item 1.1',
									submenu: {
										items: [
											{
												header: 'Menu Item 1.1.1'
											},
											{
												header: 'Menu Item 1.1.2'
											}
										]
									}
								},
								{
									header: 'Menu Item 1.2',
									submenu: {
										items: [
											{
												header: 'Menu Item 1.2.1'
											},
											{
												header: 'Menu Item 1.2.2'
											}
										]
									}
								}
							]
						}
					},
					{
						header: 'Menu Item 2'
					},
					{
						divider: true
					},
					{
						header: 'Menu Item 3',
						disabled: true
					}
				]
		}).render('#render');
		
		menu2.on('itemSelected', function(event) {
			message.innerHTML = event.target.innerHTML;
		});
	</script>
</body>
</html>
